<!DOCTYPE html>
<html lang="ru">

<head>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script> 
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
    <title>Zvezda</title>
    <link rel="stylesheet" href="css/styles.css"/>
</head>

<body x-data="{ y_coord:0, y_coef:0, is_hidden: false, top: 0, sections: [] }">
    <header :style="{ 'background-color': `rgba(0, 0, 0, ${Math.min(y_coef, 0.75)})` }">
        <div class="bc-menu-hor workhours" :class="is_hidden ? 'hidden' : ''">
            <a href="">1</a><a href="">2</a><a href="">3</a><a href="">4</a><a href="">5</a>
        </div>
        <nav class="bc-menu-hor top"
        @scroll.window.throttle.25ms="
        y_coord=window.pageYOffset; 
        y_coef=(y_coord/500).toFixed(1);
        top=$el.getBoundingClientRect().top;
        is_hidden=(window.pageYOffset-top>150 ? true : false)">
            <a href="/" class="bc-logo"><img src="img/zvezda.svg" alt="logo"></a>
            <ul class="bc-submenu-hor top-menu">                
                <li><a href="/" class="bc-link top-menu-item" :class="window.location.href==$el.href ? 'top-menu-item--active' : ''">Главная</a></li>
                <li><a href="/catalog.html" class="bc-link top-menu-item" :class="window.location.href==$el.href ? 'top-menu-item--active' : ''">Каталог</a></li>
                <li><a href="/details.html" class="bc-link top-menu-item" :class="window.location.href==$el.href ? 'top-menu-item--active' : ''">О Zvezda</a></li>
                <li><a href="/info.html" class="bc-link top-menu-item" :class="window.location.href==$el.href ? 'top-menu-item--active' : ''">Полезное</a></li>
                <li><a href="/contacts.html" class="bc-link top-menu-item" :class="window.location.href==$el.href ? 'top-menu-item--active' : ''">Контакты</a></li>
            </ul>
            <div class="bc-submenu-hor top-phone">
                <a href="#" class="bc-link top-phone-number">8 800 999-99-99</a>
                <a href="#" class="bc-button top-phone-button">Заказать звонок</a>
            </div>
        </nav>
    </header>

    <main>
        <nav class="page_nav">
            <ul>
                <li @click="window.scrollTo({top:sections[0], behavior:'smooth'})" :class="y_coord<sections[1]-200 ? 'active' : ''"><img src="img/loader-icon.png" alt=""></li>
                <li @click="window.scrollTo({top:sections[1], behavior:'smooth'})" :class="sections[1]-200<y_coord && y_coord<sections[2]-200 ? 'active' : ''"><img src="img/loader-icon.png" alt=""></li>
                <li @click="window.scrollTo({top:sections[2], behavior:'smooth'})" :class="sections[2]-200<y_coord && y_coord<sections[3]-200 ? 'active' : ''"><img src="img/loader-icon.png" alt=""></li>
                <li @click="window.scrollTo({top:sections[3], behavior:'smooth'})" :class="sections[3]-200<y_coord ? 'active' : ''"><img src="img/loader-icon.png" alt=""></li>
            </ul>
        </nav>

        <section class="first" x-effect="sections[0]=(y_coord-top+$el.getBoundingClientRect().top).toFixed(1)">
            <div class="first-slider">           
                <div class="swiper">
                    <div class="swiper-wrapper">
                    
                        <div class="swiper-slide">
                            <img src="img/load-1.jpeg"></img>
                            <div class="slide-content">                                
                                <div class="slide-content--bg">
                                    <h3>Погрузчик 1</h3>
                                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ratione quod et illum facere quaerat ad, ut in quas tempora illo consectetur explicabo deserunt, pariatur mollitia error nostrum culpa repellendus. Temporibus.</p>
                                    <a href="#" class="bc-button">Подробнее</a>
                                </div>
                            </div>
                        </div>
                    
                        <div class="swiper-slide">
                            <img src="img/load-2.jpeg"></img>
                            <div class="slide-content">                                
                                <div class="slide-content--bg">
                                    <h3>Погрузчик 2</h3>
                                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ratione quod et illum facere quaerat ad, ut in quas tempora illo consectetur explicabo deserunt, pariatur mollitia error nostrum culpa repellendus. Temporibus.</p>
                                    <a href="#" class="bc-button">Подробнее</a>
                                </div>
                            </div>
                        </div>
                    
                        <div class="swiper-slide">
                            <img src="img/load-3.jpeg"></img>
                            <div class="slide-content">                                
                                <div class="slide-content--bg">
                                    <h3>Погрузчик 3</h3>
                                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ratione quod et illum facere quaerat ad, ut in quas tempora illo consectetur explicabo deserunt, pariatur mollitia error nostrum culpa repellendus. Temporibus.</p>
                                    <a href="#" class="bc-button">Подробнее</a>
                                </div>
                            </div>
                        </div>
                    
                    </div>                    
                </div>
                <div class="swiper-navigation">
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-pagination"></div>
                    <div class="swiper-button-next"></div>                    
                </div>
            </div>
        </section>

        <section class="second" x-effect="sections[1]=(y_coord-top+$el.getBoundingClientRect().top).toFixed(1)" >
        <span x-text="sections[1]"></span>        
        </section>
        <section class="third" x-effect="sections[2]=(y_coord-top+$el.getBoundingClientRect().top).toFixed(1)">
        <span x-text="sections[2]"></span>
        </section>
        <section class="fourth" x-effect="sections[3]=(y_coord-top+$el.getBoundingClientRect().top).toFixed(1)">
        <span x-text="sections[3]"></span>
        </section>
        
    </main>

    <footer>
    </footer>
    
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <script>
    let swiper= new Swiper('.first-slider .swiper', {
        loop: true,
        speed: 1200,
        //autoplay: {
        //    delay: 5000,
        //},
        pagination: {
            type: 'bullets',
            clickable: true,
            el: '.first-slider .swiper-pagination',
        },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },       
    });
    </script>
</body>



</html>