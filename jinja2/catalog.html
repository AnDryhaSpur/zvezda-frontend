<!DOCTYPE html>
<html>

    <head>
        <title>Test</title>
        <meta charset="UTF-8" />

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@100;200;300;400;500;600;700;800;900&display=swap"
              rel="stylesheet">

        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
        <link rel="stylesheet"
              href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
        <link href="https://cdn.jsdelivr.net/npm/nouislider@15.6.1/dist/nouislider.min.css"
              rel="stylesheet">
        <link rel="stylesheet" href="styles/pages.css" />

        <script src="https://cdn.jsdelivr.net/npm/nouislider@15.6.1/dist/nouislider.min.js"
                defer></script>
        <script src="//unpkg.com/alpinejs" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"
                defer></script>
        <script src="scripts/index.js" defer></script>

    </head>

    <body>
        <header>
            <nav class="top-row | boxgrid"></nav>
            <nav class="mid-row | boxgrid">
                <a href="#" class="logo | box w_2">
                    <img src="img/logo-gw.png"
                         alt="Логотип компании GoodWork" />
                </a>
                <a href="#" class="box w_2">Свяжитесь с нами <i
                       class="uil uil-incoming-call"></i></a>
                <a href="#" class="box w_2">Демонстрация <i
                       class="uil uil-car-sideview"></i></a>
                <a href="#" class="box w_2">Расчитать стоимость <i
                       class="uil uil-bill"></i></a>
                <a class="base-button phone | box w_2" href="tel:+78005553535">
                    <i class="uil uil-outgoing-call"></i> 8 800 555-35-35
                </a>
            </nav>
            <nav class="bot-row | boxgrid">
                <a href="#" class="logo | box"><img src="img/logo-zvezda.png"
                         alt="Логотип бренда GoodWork"></a>
                <div class="item">
                    <a href="#">Каталог</a>
                    <div class="dropdown">
                        <a href="#">Фронтальные погрузчики</a>
                        <a href="#">Бетономешалки</a>
                        <a href="#">Пирожки</a>
                        <a href="#">Звезда</a>
                    </div>
                </div>
                <div class="item">
                    <a href="#">Сервис</a>
                    <div class="dropdown"></div>
                </div>
                <div class="item">
                    <a href="#">Запчасти</a>
                    <div class="dropdown"></div>
                </div>
                <div class="item">
                    <a href="#">Финансирование</a>
                    <div class="dropdown"></div>
                </div>
                <div class="item">
                    <a href="#">Про компанию</a>
                    <div class="dropdown"></div>
                </div>
                <div class="item">
                    <a href="#">Про компанию 2</a>
                    <div class="dropdown"></div>
                </div>
            </nav>
        </header>

        <div class="clipped-corners-top">
            <div class="clipped-corners-inner">
                <div class="clip-left"></div>
                <div class="clip-right"></div>
            </div>
        </div>

        <section class="page-heading" data-bg="turquoise">
            <h1>Каталог</h1>
        </section>

        <div class="clipped-corners-bottom">
            <div class="clipped-corners-inner">
                <div class="clip-left"></div>
                <div class="clip-right"></div>
            </div>
        </div>

        <section class="catalog"
                 x-data="{
                    topCapacity: 0,
                    bottomCapacity: 0,
                    topVolume: 0,
                    bottomVolume: 0,
                    brands: {},
                    }">
            <div class="boxgrid">
                <div class="heading | box w_12">
                    <a class="title" href="#">
                        <h2>Каталог техники</h2>
                        <span class="see-more">
                            Больше техники ⇒
                        </span>
                    </a>

                    <div class="range">
                        <span class="range-name">Грузоподъемность</span>
                        <div id="capacity-slider"
                             class="range-slider"
                             data-top-capacity="3000"
                             data-bottom-capacity="500"
                             @capacityupdate="
                            values=$el.noUiSlider.get(true);
                            bottomCapacity=values[0];
                            topCapacity=values[1];"></div>
                        <span class="range-values" x-text="
                            bottomCapacity.toFixed(0)+' кг' + ' - ' +
                            topCapacity.toFixed(0)+' кг'"></span>
                    </div>
                    <div class="range">
                        <span class="range-name">Объем ковша</span>
                        <div id="volume-slider"
                             class="range-slider"
                             data-top-volume="3000"
                             data-bottom-volume="500"
                             @volumeupdate="
                            values=$el.noUiSlider.get(true);
                            bottomVolume=values[0];
                            topVolume=values[1];"></div>
                        <span class="range-values" x-text="
                            (bottomVolume/1000).toFixed(1)+' м³' + ' - ' +
                            (topVolume/1000).toFixed(1)+' м³'"></span>
                    </div>
                    <div class="brand-flags">
                        <span>Бренд:</span>
                        <input type="checkbox" name="brand" id="gw-flag"
                               value="goodwork"
                               x-model="brands[$el.value]=$el.checked">
                        <label for="gw-flag">GoodWork</label>
                        <input type="checkbox" name="brand" id="zv-flag"
                               value="zvezda"
                               x-model="brands[$el.value]=$el.checked">
                        <label for="zv-flag">Zvezda
                            {# <img src="/img/car-2893.svg" alt="" style="height: 3rem"> #}
                        </label>
                    </div>
                </div>
            </div>
            <div class="boxgrid">
                {% for i in range(16) %}
                <div class="vehicle | box w_3 h_3 hover3d"
                     data-bg="turquoise"
                     data-capacity="{{ 500 + 100 * i }}"
                     data-volume="{{ 500 + 100 * i }}"
                     data-brand="{{ 'goodwork' if i%2==0 else 'zvezda'}}"
                     :data-hidden="
                         $el.dataset.capacity < bottomCapacity |
                         $el.dataset.capacity > topCapacity |
                         $el.dataset.volume < bottomVolume |
                         $el.dataset.volume > topVolume |
                         !(brands[$el.dataset.brand]===true |
                         Object.values(brands).every((v) => v === false))
                         ? true : false">

                    <div class="model">
                            <div class="name-type">
                                <a href="#" class="name">
                                    <h4>{{ 'GoodWork LX100F' if i%2==0 else 'Zvezda ZL20'}}
                                    </h4>
                                </a>
                                <a href="#" class="type">Фронтальный
                                    погрузчик</a>
                            </div>
                            <div class="actions">
                                <a href="#"><i
                                       class="uil uil-chart-bar"></i></a>
                                <a href="#"><i
                                       class="uil uil-heart-alt"></i></a>
                            </div>
                            {# <div class="tags">
                                <a href="#" class="new">Новинка</a>
                                <a href="#" class="hit">Хит-продаж</a>
                            </div> #}
                        </div>
                        <a href="#" class="gallery" x-data="{ photo: 0 }">
                            <div class="bullets" @mouseleave="photo=0">
                                {% for i in range(5) %}
                                <span data-id="{{i}}"
                                      :data-active="photo==Number($el.dataset.id)"
                                      @mouseover="photo=Number($el.dataset.id)"></span>
                                {% endfor %}
                            </div>
                            <img data-id="0"
                                 x-show="photo==Number($el.dataset.id)"
                                 src="{{ 'img/slide_1.jpg' if i%2==0 else 'img/slide_2.jpg'}}"
                                 alt="">
                            <img data-id="1"
                                 x-show="photo==Number($el.dataset.id)"
                                 src="{{ 'img/slide_1v2.jpg' if i%2==0 else 'img/slide_2v2.jpg'}}"
                                 alt="">
                            <img data-id="2"
                                 x-show="photo==Number($el.dataset.id)"
                                 src="{{ 'img/slide_1.jpg' if i%2==0 else 'img/slide_2.jpg'}}"
                                 alt="">
                            <img data-id="3"
                                 x-show="photo==Number($el.dataset.id)"
                                 src="{{ 'img/slide_1v2.jpg' if i%2==0 else 'img/slide_2v2.jpg'}}"
                                 alt="">
                            <div class="more" data-id="4"
                                 x-show="photo==Number($el.dataset.id)"
                                 style="background-image: url({{ 'img/slide_1.jpg' if i%2==0 else 'img/slide_2.jpg'}})"
                                 alt="">
                                <span>Ещё 10 фото</span>
                            </div>
                        </a>

                        <ul class="specs">
                            <li><span>Масса</span>4000 кг</li>
                            <li><span>Груз.</span>{{ 500 + 100 * i }}
                                кг</li>
                            <li><span>Обьем
                                    ковша</span>{{ ((500 + 100 * i)/1000)|round(1) }}
                                м³</li>
                            <li><span>Цена</span>1 800 000 ₽</li>
                        </ul>

                        <div class="bottom-line">
                            <button class="base-button">Заказать</button>
                            {# <a href="#" class="base-button" data-a-button>В каталог ⇒</a> #}
                        </div>
                </div>
                {% endfor %}
            </div>
        </section>
    </body>

</html>